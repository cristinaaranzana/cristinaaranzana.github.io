<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ page.title }} Â· {{ site.title }}</title>

  <style>
  :root{
    --bg:#ffffff;
    --text:#0f172a;
    --muted:#475569;
    --line:#c7d2fe;
    --sidebar:#eef2ff;

    --pill:#e0e7ff;
    --pillText:#1e3a8a;
    --pillActive:#1e3a8a;
    --pillActiveText:#ffffff;

    --link:#1d4ed8;

    --max:1100px;
    --sideW:320px;
    --radius:14px;
  }

  *{box-sizing:border-box}

  body{
    margin:0;
    background:var(--bg);
    color:var(--text);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    line-height:1.6;
  }

  a{
    color:var(--link);
    text-decoration:none;
  }
  a:hover{
    text-decoration:underline;
  }

  /* ===== Layout ===== */
  .wrap{
    max-width:var(--max);
    margin:0 auto;
    padding:24px;
  }
  .layout{
    display:grid;
    grid-template-columns:var(--sideW) 1fr;
    gap:28px;
    min-height:calc(100vh - 48px);
  }

  /* ===== Sidebar ===== */
  .sidebar{
    background:var(--sidebar);
    border-radius:var(--radius);
    padding:22px;
    display:flex;
    flex-direction:column;
    position:sticky;
    top:24px;
    height:calc(100vh - 48px);
  }

  .avatar{
    width:190px;
    height:190px;
    border-radius:12px;
    object-fit:cover;
    display:block;
    margin:6px auto 18px auto;
    border:4px solid rgba(255,255,255,.9);
  }

  .name{
    font-size:20px;
    font-weight:800;
    text-align:center;
    margin:0;
  }

  .subtitle{
    font-size:14px;
    text-align:center;
    color:var(--muted);
    margin:4px 0 0 0;
  }

  .sideMeta{
    margin-top:14px;
    font-size:14px;
    color:var(--muted);
    text-align:center;
  }

  .sideSpacer{flex:1}

  .social{
    display:flex;
    gap:12px;
    justify-content:center;
    padding-top:14px;
    border-top:1px solid var(--line);
  }

  .iconBtn{
    width:36px;
    height:36px;
    border-radius:10px;
    display:grid;
    place-items:center;
    background:#fff;
    border:1px solid var(--line);
  }

  .icon{
    width:18px;
    height:18px;
    fill:currentColor;
  }

  /* ===== Main ===== */
  .main{
    display:flex;
    flex-direction:column;
    min-width:0;
  }

  .topbar{
    display:flex;
    justify-content:flex-end;
    gap:10px;
    margin-bottom:18px;
  }

  .pill{
    padding:10px 14px;
    border-radius:999px;
    background:var(--pill);
    color:var(--pillText);
    font-size:14px;
    border:1px solid var(--line);
  }

  .pillActive{
    background:var(--pillActive);
    color:var(--pillActiveText);
  }

  .pageTitle{
    font-size:44px;
    font-weight:900;
    margin:6px 0 4px 0;
  }

  .pageSub{
    margin:0 0 10px 0;
    color:var(--muted);
    font-size:20px;
  }

  .divider{
    height:1px;
    background:var(--line);
    margin:18px 0 26px 0;
  }

  h2{
    font-size:28px;
    margin:0 0 10px 0;
    font-weight:900;
  }

  @media (max-width:980px){
    .layout{grid-template-columns:1fr}
    .sidebar{position:relative;height:auto}
    .topbar{justify-content:flex-start}
  }
  </style>
</head>

<body>
<div class="wrap">
<div class="layout">

<!-- Sidebar -->
<aside class="sidebar">
  <img class="avatar" src="{{ site.baseurl }}/attach/profile.JPG?v=4" alt="Profile photo" />
  <p class="name">{{ site.title }}</p>
  <p class="subtitle">{{ site.description }}</p>

  <div class="sideMeta">
    <a href="mailto:{{ site.email }}">{{ site.email }}</a>
    {% if site.affiliation %}
      <div style="margin-top:8px">{{ site.affiliation }}</div>
    {% endif %}
  </div>

  <div class="sideSpacer"></div>

  <div class="social">
    {% if site.social.x %}
      <a class="iconBtn" href="{{ site.social.x }}" target="_blank">X</a>
    {% endif %}
    {% if site.social.bluesky %}
      <a class="iconBtn" href="{{ site.social.bluesky }}" target="_blank">B</a>
    {% endif %}
    {% if site.social.linkedin %}
      <a class="iconBtn" href="{{ site.social.linkedin }}" target="_blank">in</a>
    {% endif %}
  </div>
</aside>

<!-- Main -->
<main class="main">
<nav class="topbar">
{% assign current = page.url | replace:'index.html','' | replace:'.html','' %}
{% if current != '/' %}
  {% assign current = '/' | append: current | remove:'//' %}
{% endif %}

{% for item in site.nav %}
  {% if current == item.url %}
    <a class="pill pillActive" href="{{ site.baseurl }}{{ item.url }}">{{ item.title }}</a>
  {% else %}
    <a class="pill" href="{{ site.baseurl }}{{ item.url }}">{{ item.title }}</a>
  {% endif %}
{% endfor %}
</nav>

{% if page.title %}
  <div class="pageTitle">{{ page.title }}</div>
  {% if page.subtitle %}
    <div class="pageSub">{{ page.subtitle }}</div>
  {% endif %}
  <div class="divider"></div>
{% endif %}

{{ content }}
</main>

</div>
</div>
</body>
</html>

